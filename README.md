# multimodules
## 1 часть задания
2 сервиса. 
<details>
  <summary>№1 сервис</summary>
Находиться в папке first-service.
Имеет 2 едпоинта на гет запрос и работает на 8081 port.
  
http://localhost:8081/
Внутри ендпоинта вызывает сервис #2 и его ендпоинт "/hello"

http://localhost:8081/ex 
Внутри ендпоинта вызывает сервис #2 и его ендпоинт "/exception"

Так как ендпоинт /eception  принимает на вход параметр, в случае если параметр будет пустым или иметь значение "exception", то выдает ошибку, через Feign client и ErrorDecoder мы вызываем ошибку.
Отлов ошибки осуществляется с помощью ControllerExceptionHandler
</details>
<details>
  <summary>№2 сервис</summary>
Находиться в папке second-service
Имеет 2 едпоинтa на гет запрос и работает на 8080 port.
http://localhost:8080/hello
http://localhost:8080/exception
</details>

## 2 часть задания
Все данные были взяты из 1-го задания.
Также в папку src/main/resources/ добавлен файл, с минимальными данными для проверки ендпоинтов через Postman.

**ВАЖНО(!) У меня был конфликт, перед обновлением ветки НАСТОЯТЕЛЬНО рекомендую сначала удалить проект локально, и потом клонировать повторно**

<details>
  <summary>№1 сервис</summary>
Были сделаны исправления:
  
**controller:**  добавлено возможность иметь хедер и данные для передачи, которые влияют на логику приложения.
**exception/advice:** добавлены кастомные ошибки, которые зависят от сервиса№2 а также обновлен обработчик.

</details>
<details>
  <summary>№2 сервис</summary>
Добавлен Spring Sequrity и его зависимости.
Описание логики именно этих настроек находиться по  
  
[ссылке](https://salahuddin-s.medium.com/custom-header-based-authentication-using-spring-security-17f4163d0986) 

На данный момент проводиться проверка Header на наличие:
  
> aut:let_me_in 

Если сообщение будет другого характера, либо не иметь хедера - автоматически прийдет ответ с 401 запросом.
</details>
